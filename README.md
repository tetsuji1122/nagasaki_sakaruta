# 長崎坂るた

長崎市内の坂の名前や歴史をかるた遊びを通じて楽しく学べるWebアプリケーションです。

## 概要

「長崎坂るた」は、長崎市内の44の坂をテーマにしたかるたゲームです。Webサイトとオープンデータを組み合わせて、地域の文化資産を再発見し、情報活用や観光促進を促進することを目的としています。

### 主な機能

- **かるた一覧**: 44枚のかるたカードを一覧表示し、検索機能で絞り込みが可能
- **詳細表示**: 各かるたカードをクリックすると、モーダルウィンドウで詳細情報（読み札、取り札、歴史など）を表示
- **地図表示**: 長崎市内の地図上にかるたの位置をマーカーで表示
- **レイヤー選択**: 地図のレイヤーを選択可能（国土地理院標準・淡色・白地図、OpenStreetMap）
- **レスポンシブデザイン**: PC・タブレット・スマートフォンに対応

## ファイル構造

```
nagasaki_sakaruta/
├── index.html          # トップページ（ランディングページ）
├── list.html           # かるた一覧ページ
├── map.html            # 地図表示ページ
├── favicon.png         # ファビコン
├── css/
│   ├── index.css       # トップページ用スタイル
│   ├── list.css        # 一覧ページ用スタイル
│   └── map.css         # 地図ページ用スタイル
├── js/
│   ├── list.js         # 一覧ページ用スクリプト
│   └── map.js          # 地図ページ用スクリプト
├── data/
│   ├── karuta.json     # かるたデータ（JSON形式）
│   └── karuta.csv      # かるたデータ（CSV形式）
└── img/
    ├── logo.png        # ロゴ画像
    ├── 01_a_yomi.png   # 読み札画像（あ行）
    ├── 01_a_tori.png   # 取り札画像（あ行）
    └── ...             # その他44枚分の読み札・取り札画像
```

## セットアップ

### 必要な環境

- モダンブラウザ（Chrome、Firefox、Safari、Edgeなど）
- ローカルサーバー（CORSポリシーのため、ファイルを直接開くのではなくサーバー経由でアクセスする必要があります）

### インストール方法

1. リポジトリをクローンまたはダウンロード
2. ローカルサーバーを起動

#### Pythonを使用する場合

```bash
# Python 3の場合
python -m http.server 8000

# ブラウザで http://localhost:8000 にアクセス
```

#### Node.jsを使用する場合

```bash
# http-serverをインストール（初回のみ）
npm install -g http-server

# サーバーを起動
http-server -p 8000

# ブラウザで http://localhost:8000 にアクセス
```

## 使用方法

### トップページ（index.html）

- プロジェクトのコンセプトを表示
- 「かるた一覧」ボタンで一覧ページへ
- 「地図で見る」ボタンで地図ページへ

### かるた一覧ページ（list.html）

- 検索ボックスで坂の名前、頭文字、読み札で検索可能
- かるたカードをクリックすると詳細情報をモーダルウィンドウで表示
- モーダルウィンドウ内の「地図で見る」ボタンで該当のかるたの位置を地図上で確認

### 地図ページ（map.html）

- 長崎市内の地図上に44枚のかるたの位置をマーカーで表示
- マーカーをクリックすると、かるたの情報をポップアップで表示
- 右上のレイヤーコントロールで地図の種類を切り替え可能
- URLパラメータ `?id=1` で特定のかるたをハイライト表示

## データ形式

### karuta.json

各かるたのデータは以下の形式でJSONファイルに格納されています：

```json
{
  "id": 1,
  "kashira": "あ",
  "name": "ミルスの坂",
  "furikana": "みるすのさか",
  "saka_no": "NS206",
  "yomi_kanji": "アメリカの 宣教師住む 鳴滝に",
  "yomi_hiragana": "あめりかの せんきょうしすむ なるたきに",
  "img_yomi": "01_a_yomi.png",
  "img_tori": "01_a_tori.png",
  "photo_1": "01_あ_ミルスの坂.jpg",
  "photo_2": "01_あ_ミルスの坂_p.jpg",
  "history": "歴史の説明文...",
  "lat": 32.774246,
  "lon": 129.882859
}
```

- `id`: かるたのID（1-44）
- `kashira`: 頭文字（あいうえお順）
- `name`: 坂の名前
- `furikana`: ふりがな
- `yomi_kanji`: 読み札（漢字）
- `yomi_hiragana`: 読み札（ひらがな）
- `img_yomi`: 読み札画像ファイル名
- `img_tori`: 取り札画像ファイル名
- `history`: 坂の歴史説明
- `lat`: 緯度
- `lon`: 経度

## 技術スタック

- **HTML5**: マークアップ
- **CSS3**: スタイリング（レスポンシブデザイン対応）
- **JavaScript (ES6+)**: インタラクティブな機能の実装
- **Leaflet.js**: 地図表示ライブラリ
- **Font Awesome**: アイコンライブラリ
- **国土地理院タイル**: 地図レイヤー

## ブラウザ対応

- Chrome（最新版）
- Firefox（最新版）
- Safari（最新版）
- Edge（最新版）

## ライセンス

このプロジェクトのライセンスについては、各ファイルのライセンス表記を確認してください。

## 更新履歴

- 2024: 初版リリース
  - かるた一覧機能
  - 地図表示機能
  - 検索機能
  - モーダルウィンドウでの詳細表示

## お問い合わせ

プロジェクトに関するお問い合わせは、GitHubのIssuesまでお願いします。

